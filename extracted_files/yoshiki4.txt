1  1.1  1.2  OS  OS  OS  OS  OS   OS  OS  [1]  [2]   Huawei  [3]  1  TPM[4]   TEE[5]   Intel SGX[6]  Google   TPU   AWS   Graviton  [8]  1  :  :  4
1.3  1.4  Homomorphic Encryption  3  PHE (Partially Homomorphic Encryption)   PHE  SHE (Somewhat Homomorphic Encryption,   )   SHE  FHE (Fully Homomorphic Encryption,   )   FHE  Fully   2   XOR   AND  SHE   Bootstrapping  PHE   RSA   ElGamal       m 1 , m 2   g   x   g x   m 1 , m 2   r 1 , r 2  Enc ( m ) := ( g r   , mg rx )  Enc ( m 1 ) Enc ( m 2 ) := ( g r 1 + r 2   , m 1 m 2 g ( r 1 + r 2 ) x ) =   Enc ( m 1 m 2 )  Dec ( Enc ( m 1 m 2 )) := ( g r 1 + r 2   ) − x   ·   m 1 m 2 g ( r 1 + r 2 ) x   =   m 1 m 2       h   h m  ElGamal   LWE   Learning With Error  Error  LWE  SHE  LWE   FHE   Bootstrapping  LWE  LWE   FHE  2
1.5  2         UC   Universal Circuit;     UC  1.6   VSP  1.6.1  Virtual Secure Platform; VSP   C  4  1.  2.   UC   Verilog   VSP-toolchain  3. UC   Universal Circuit   CPU   Verilog   KRISP  4. UC   C   RV32K-LLVM  1.   2.   3.  1.6.2  1.   RV32K-LLVM   C  2.   VSP-toolchain   KRISP  3.  4.  5.   KRISP  6.   KRISP  7.   KRISP  8.  5.  9.   KRISP  10.  PC  UC   KRISP  CPU   60Hz   RAM   512Byte  1.6.3  CUDA   TFHE[12]   CUDA   TFHE   CUDA 3
2 Verilog で 書 か れ た RV32K 処 理 系  （   KRISP; Kyoto Reduced Instruction Set Processor ）  BLIF で 書 か れ た RV32K 処 理 系  HE で 暗 号 化 さ れ た ⼊ ⼒ と HE で 暗  号 化 さ れ た 出 ⼒ で 動 く C ⾔ 語 で 書  か れ た RV32K 処 理 系  HE で 暗 号 化 さ れ た ⼊ ⼒ と HE で 暗  号 化 さ れ た 出 ⼒ で 動 く 実 ⾏ 可 能  形式 の RV32K 処 理 系  実 ⾏ す るプロ  グラム‧ ⼊ ⼒ を  メモリ 上 に 展 開 し、  処 理 系 を 作 動 させ る 。  実 ⾏ 可 能 形式 の IO ラッパー  ⼀ 般 の C ⾔ 語 プログラム   LLVM IR   HE に よる 暗 号 化 RV32K コード   暗 号 化 さ れ た RV32K コード  HE に よる 暗 号 化 プログラム に 対 す る ⼊ ⼒   プログラム に 対 す る 暗 号 化 さ れ  た ⼊ ⼒  BLIF を TFHE/cuFHE を ⽤ いた C ⾔  語 コード に 変 換 す るトランスパ イラ  LLVM の RV32K バックエンド  秘 密 鍵   公 開 鍵  HE とは 異 な る 公 開 鍵 ‧ 秘 密 鍵 を  ⽤ いて、 データをサーバ に 送 信 す る  LLVM の ミドルエンド  LLVM IR レベル での  最 適 化  GCC/Clang  Clang  担 当 ： 松本  担 当 ： 松 岡  担 当 ： 松 岡  担 当 ： 伴 野  Server side  Client side  担 当 ： 伴 野  KRP ⽤ に チューニング さ れ た  Yosys  担 当 ： 松本 ‧ 松 岡  3   KRISP  4
cuFHE[11]   CPU  KRISP  1  1.7   KRISP-toolchain  UC   Verilog  Cingulata[10]   C++  BLIF   Berkeley Logic Interchange Format   [13]   ABC[14]  BLIF   BLIF   BLIF   Cingulata  C++   Verilog   Yosys[15]  BLIF   TFHE   cuFHE   C++   Yosys   ABC  Cingulata  BLIF   C++  Yosys   XOR   AND  1.7.1   KRISP 1.7.1.1   ISA  KRISP   Kyoto Reduced Instruction Set Processor   ISA   32bit   16bit  RISC-V   RV32C   RV32K   RV32C       ISA   ISA     LLVM   RV32I   LLVM   RV32K     RISC-V   BSD  CISC   x86   RISC   CPU   MIPS   ARM  RISC-V  RV32C  RV32C   RV32C   RV32K   ISA  RV32K   RV32C   RV32K   11  1.7.1.2  KRISP   16bit   32bit        5
      KRISP  4  4   KRISP  4  1.7.2   RV32K   LLVM IR  1.7.2.1   LLVM IR  ISA   RV32K   LLVM IR  DSL   [10]  C   RV32K  AST   RV32K  LLVM IR   RV32K   LLVM  LLVM IR   [ ? ]  LLVM IR   LLVM IR  LLVM IR   LLVM IR  [22]   RV32K  RV32K  LLVM IR   C   C++   Clang  C   KRISP   RV32K   C   Clang  LLVM IR   RV32K  KRISP  LLVM   LLVM IR  ISA   VSP  LLVM  6
1.7.2.2  RV32K   1   RV32K  KRISP   KRISP  512Byte   KRISP  RV32K  LLVM  ISA  KRISP   ISA  2  Apache2.0  11  3  3.1  EVM[7]  MIT   ε nigma  [9]   EVM  ε nigma   SHE  1   ε nigma  3.2  ”Perennial secure multi-party computation of universal Turing machine”[16]   10  GarbledCPU[17]   ARM2GC[18]   Garbled Circuit  MIPS   ARM  GC   GC  7
Oblivious Turing Machine  [20]  Cingulata[10]  ALCHEMY[21]  GC  4  4.1  VSP-toolchain   Cingulata   C++   C++   KRISP   Verilog  RV32K-LLVM   C++   LLVM   DSL   TableGen   [22]  4.2  3  BLIF   C++  KRISP   IO  RV32K-LLVM   KRISP   LLVM  KRISP   Verilog  Yosys  KRISP   Verilog  RV32K  4.3  5   IT  5.1  IT  100  8
BSD  2  IT  IT  GAFAM   1   PFN   PEZY  IT  IT  5.2  5.3  IT   IoT  GAFAM   IT  IT  IT  IT  [1]   https://twitter.com/utshina2/status/1100498441938055169  [2]   https://www.bloomberg.co.jp/news/articles/2018-10-04/PG2CZY6TTDS801  [3]   https://www.fnn.jp/posts/00397920HDK  [4]   https://docs.microsoft.com/ja-jp/windows/security/information-protection/tpm/ how-windows-uses-the-tpm  [5]   https://news.mynavi.jp/article/20131209-arm_tee/  [6]   https://software.intel.com/en-us/articles/intel-software-guard-extensions-tutorial-part-1-foundation  [7]   https://github.com/ethereum/wiki/wiki/%5BJapanese%5D--Ethereum-Development-Tutorial  [8]   https://www.itmedia.co.jp/enterprise/articles/1812/05/news059.html  [9]   https://enigma.co/  [10]   https://github.com/CEA-LIST/Cingulata  [11]   https://github.com/vernamlab/cuFHE  [12]   https://github.com/tfhe/tfhe  [13]   http://www1.cs.columbia.edu/~cs6861/sis/blif/  [14]   http://people.eecs.berkeley.edu/~alanmi/abc/  [15]   https://en.wikipedia.org/wiki/ISC_license  [16]   https://www.sciencedirect.com/science/article/pii/S0304397518306297  [17]   http://www.aceslab.org/sites/default/files/GarbledCPU_0.pdf  [18]   https://arxiv.org/abs/1902.02908  9
[19]   https://eprint.iacr.org/2016/654.pdf  [20]   https://arxiv.org/pdf/1312.3146.pdf  [21]   https://web.eecs.umich.edu/~cpeikert/pubs/alchemy.pdf  [22]   LLVM  2013  10
